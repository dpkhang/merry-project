SELECT * from (SELECT B.id, type, content, link, path  FROM (SELECT A.id, type, content, link from (select message.id, type, content from message left join textmessage on message.id = textmessage.messageId) as A left join linkmessage on A.id = linkmessage.messageId) as B LEFT join mediamessage on mediamessage.messageId = B.id) as C LEFT JOIN documentmessage on documentmessage.messageId = C.id